(()=>{var v=0;function F(j,k,P,Y){let{headingElement:G,contentElement:q,iconElement:Q,config:J}=j,_=`accordionary-${v++}`,B=`${_}-header`,U=`${_}-content`,V=!1;if(J.openOverride!==null)V=J.openOverride;else if(k.openDefault==="all")V=!0;else if(k.openDefault==="first"&&P)V=!0;let H=V,{speed:K,easing:$,reduceMotion:L}=k,x=L?"none":`height ${K}ms ${$}`,S=L?"none":`transform ${K}ms ${$}`;if(q.style.overflow="hidden",q.style.transition=x,q.style.height=H?"auto":"0px",Q.style.transition=S,J.disabled)Q.style.visibility="hidden";else if(H)Q.style.transform="rotate(180deg)";if(G.id=B,G.setAttribute("tabindex",J.disabled?"-1":"0"),G.setAttribute("role","button"),G.setAttribute("aria-expanded",H?"true":"false"),G.setAttribute("aria-controls",U),G.style.cursor=J.disabled?"default":"pointer",J.disabled)G.setAttribute("aria-disabled","true");q.id=U,q.setAttribute("role","region"),q.setAttribute("aria-labelledby",B);function w(){if(H)return;H=!0,q.style.height=`${q.scrollHeight}px`,Q.style.transform="rotate(180deg)",G.setAttribute("aria-expanded","true")}function D(){if(!H)return;H=!1,q.style.height=`${q.scrollHeight}px`,q.offsetHeight,q.style.height="0px",Q.style.transform="rotate(0deg)",G.setAttribute("aria-expanded","false")}function b(){if(J.disabled)return;if(H)D();else{if(!k.allowMultiple){for(let W of Y)if(W!==j&&W.close)W.close()}w()}}j.close=D,G.addEventListener("click",b),G.addEventListener("keydown",(W)=>{if(W.key==="Enter"||W.key===" ")W.preventDefault(),b()}),q.addEventListener("transitionend",()=>{if(H)q.style.height="auto"})}function Z(j,k){console.warn(`[Accordionary] ${j}`,k||"")}function N(j,k){console.error(`[Accordionary] ${j}`,k||"")}function X(j,k){return j.getAttribute(`accordionary-${k}`)}function R(j,k=document){return k.querySelector(`[accordionary="${j}"]`)}function z(j,k=document){return k.querySelectorAll(`[accordionary="${j}"]`)}var y=window.matchMedia("(prefers-reduced-motion: reduce)").matches;function T(j){if(j.hasAttribute("data-accordionary-initialized"))return;j.setAttribute("data-accordionary-initialized","true");let k=X(j,"open"),P=X(j,"multiple"),Y=X(j,"speed"),G=X(j,"easing");if(k&&!["all","first","none"].includes(k))Z(`Invalid accordionary-open="${k}". Expected "all", "first", or "none". Defaulting to "none".`,j);if(P&&!["true","false"].includes(P))Z(`Invalid accordionary-multiple="${P}". Expected "true" or "false". Defaulting to "true".`,j);let q=Y?parseInt(Y,10):300;if(Y&&(isNaN(q)||q<0))Z(`Invalid accordionary-speed="${Y}". Expected a positive number in milliseconds. Defaulting to 300.`,j);let Q={openDefault:k==="all"||k==="first"?k:"none",allowMultiple:P!=="false",speed:isNaN(q)||q<0?300:q,easing:G||"ease",reduceMotion:y},J=[],_=z("item",j);if(_.length===0){Z('No items found. Add elements with accordionary="item" inside your component.',j);return}for(let B of _){let U=R("header",B),V=R("content",B),H=R("icon",B);if(!U){N('Missing header element. Add accordionary="header" inside this item.',B);continue}if(!V){N('Missing content element. Add accordionary="content" inside this item.',B);continue}if(!H){N('Missing icon element. Add accordionary="icon" inside your header.',B);continue}let K=X(B,"open"),$=X(B,"disable");if(K&&!["true","false"].includes(K))Z(`Invalid accordionary-open="${K}" on item. Expected "true" or "false".`,B);let L={openOverride:K==="true"?!0:K==="false"?!1:null,disabled:$==="true"};J.push({element:B,headingElement:U,contentElement:V,iconElement:H,config:L})}J.forEach((B,U)=>{F(B,Q,U===0,J)})}function M(){let j=z("component");for(let k of j)T(k)}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",M);else M();})();
