(()=>{var y=0;function M(j,q,U,Y){let{headingElement:J,contentElement:G,iconElement:V,config:H}=j,_=`accordionary-${y++}`,B=`${_}-header`,k=`${_}-content`,P=!1;if(H.openOverride!==null)P=H.openOverride;else if(q.openDefault==="all")P=!0;else if(q.openDefault==="first"&&U)P=!0;let K=P,{speed:$,easing:Q,reduceMotion:L}=q,R=L?"none":`height ${$}ms ${Q}`,v=L?"none":`transform ${$}ms ${Q}`;if(G.style.overflow="hidden",G.style.transition=R,G.style.height=K?"auto":"0px",!K)G.inert=!0;if(V.style.transition=v,H.disabled)V.style.visibility="hidden";else if(K)V.style.transform="rotate(180deg)";if(J.id=B,J.setAttribute("tabindex",H.disabled?"-1":"0"),J.setAttribute("role","button"),J.setAttribute("aria-expanded",K?"true":"false"),J.setAttribute("aria-controls",k),J.style.cursor=H.disabled?"default":"pointer",H.disabled)J.setAttribute("aria-disabled","true");G.id=k,G.setAttribute("role","region"),G.setAttribute("aria-labelledby",B);function F(){if(K)return;K=!0,G.inert=!1,G.style.height=`${G.scrollHeight}px`,V.style.transform="rotate(180deg)",J.setAttribute("aria-expanded","true")}function T(){if(!K)return;K=!1,G.inert=!0,G.style.height=`${G.scrollHeight}px`,G.offsetHeight,G.style.height="0px",V.style.transform="rotate(0deg)",J.setAttribute("aria-expanded","false")}function b(){if(H.disabled)return;if(K)T();else{if(!q.allowMultiple){for(let W of Y)if(W!==j&&W.close)W.close()}F()}}j.open=F,j.close=T,j.toggle=b,J.addEventListener("click",b),J.addEventListener("keydown",(W)=>{if(W.key==="Enter"||W.key===" ")W.preventDefault(),b()}),G.addEventListener("transitionend",()=>{if(K)G.style.height="auto"})}function Z(j,q){console.warn(`[Accordionary] ${j}`,q||"")}function N(j,q){console.error(`[Accordionary] ${j}`,q||"")}function X(j,q){return j.getAttribute(`accordionary-${q}`)}function z(j,q=document){return q.querySelector(`[accordionary="${j}"]`)}function D(j,q=document){return q.querySelectorAll(`[accordionary="${j}"]`)}var x=window.matchMedia("(prefers-reduced-motion: reduce)").matches;function S(j){if(j.hasAttribute("data-accordionary-initialized"))return null;j.setAttribute("data-accordionary-initialized","true");let q=X(j,"open"),U=X(j,"multiple"),Y=X(j,"speed"),J=X(j,"easing");if(q&&!["all","first","none"].includes(q))Z(`Invalid accordionary-open="${q}". Expected "all", "first", or "none". Defaulting to "none".`,j);if(U&&!["true","false"].includes(U))Z(`Invalid accordionary-multiple="${U}". Expected "true" or "false". Defaulting to "true".`,j);let G=Y?parseInt(Y,10):300;if(Y&&(isNaN(G)||G<0))Z(`Invalid accordionary-speed="${Y}". Expected a positive number in milliseconds. Defaulting to 300.`,j);let V={openDefault:q==="all"||q==="first"?q:"none",allowMultiple:U!=="false",speed:isNaN(G)||G<0?300:G,easing:J||"ease",reduceMotion:x},H=[],_=D("item",j);if(_.length===0)return Z('No items found. Add elements with accordionary="item" inside your component.',j),null;for(let k of _){let P=z("header",k),K=z("content",k),$=z("icon",k);if(!P){N('Missing header element. Add accordionary="header" inside this item.',k);continue}if(!K){N('Missing content element. Add accordionary="content" inside this item.',k);continue}if(!$){N('Missing icon element. Add accordionary="icon" inside your header.',k);continue}let Q=X(k,"open"),L=X(k,"disable");if(Q&&!["true","false"].includes(Q))Z(`Invalid accordionary-open="${Q}" on item. Expected "true" or "false".`,k);let R={openOverride:Q==="true"?!0:Q==="false"?!1:null,disabled:L==="true"};H.push({element:k,headingElement:P,contentElement:K,iconElement:$,config:R})}H.forEach((k,P)=>{M(k,V,P===0,H)});let B=H.map((k)=>({element:k.element,open:()=>k.open?.(),close:()=>k.close?.(),toggle:()=>k.toggle?.()}));return{element:j,openAll:()=>{for(let k of H)k.open?.()},closeAll:()=>{for(let k of H)k.close?.()},open:(k)=>{H[k]?.open?.()},close:(k)=>{H[k]?.close?.()},toggle:(k)=>{H[k]?.toggle?.()},items:B}}function w(){let j=D("component");for(let q of j)S(q)}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",w);else w();})();
