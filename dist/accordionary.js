(()=>{var y=0;function S(j,G,Z,W){let{headingElement:K,contentElement:H,iconElement:U,config:V}=j,Q=`accordionary-${y++}`,$=`${Q}-header`,N=`${Q}-content`,q=!1;if(V.openOverride!==null)q=V.openOverride;else if(G.openDefault==="all")q=!0;else if(G.openDefault==="first"&&Z)q=!0;let J=q,{speed:B,easing:L,reduceMotion:X}=G,b=X?"none":`height ${B}ms ${L}`,F=X?"none":`transform ${B}ms ${L}`;if(H.style.overflow="hidden",H.style.transition=b,H.style.height=J?"auto":"0px",!J)H.inert=!0;if(U.style.transition=F,V.disabled)U.style.visibility="hidden";else if(J)U.style.transform="rotate(180deg)";if(K.id=$,K.setAttribute("tabindex",V.disabled?"-1":"0"),K.setAttribute("role","button"),K.setAttribute("aria-expanded",J?"true":"false"),K.setAttribute("aria-controls",N),K.style.cursor=V.disabled?"default":"pointer",V.disabled)K.setAttribute("aria-disabled","true");H.id=N,H.setAttribute("role","region"),H.setAttribute("aria-labelledby",$);function k(){if(J)return;J=!0,H.inert=!1,H.style.height=`${H.scrollHeight}px`,U.style.transform="rotate(180deg)",K.setAttribute("aria-expanded","true")}function M(){if(!J)return;J=!1,H.inert=!0,H.style.height=`${H.scrollHeight}px`,H.offsetHeight,H.style.height="0px",U.style.transform="rotate(0deg)",K.setAttribute("aria-expanded","false")}function T(){if(V.disabled)return;if(G.linked){if(J){for(let P of W)if(!P.config.disabled)P.close?.()}else for(let P of W)if(!P.config.disabled)P.open?.()}else if(J)M();else{if(!G.allowMultiple){for(let P of W)if(P!==j&&P.close)P.close()}k()}}j.open=k,j.close=M,j.toggle=T,K.addEventListener("click",T),K.addEventListener("keydown",(P)=>{if(P.key==="Enter"||P.key===" ")P.preventDefault(),T()}),H.addEventListener("transitionend",()=>{if(J)H.style.height="auto"})}function _(j,G){console.warn(`[Accordionary] ${j}`,G||"")}function z(j,G){console.error(`[Accordionary] ${j}`,G||"")}function Y(j,G){return j.getAttribute(`accordionary-${G}`)}function D(j,G=document){return G.querySelector(`[accordionary="${j}"]`)}function R(j,G=document){return G.querySelectorAll(`[accordionary="${j}"]`)}var x=window.matchMedia("(prefers-reduced-motion: reduce)").matches;function v(j){if(j.hasAttribute("data-accordionary-initialized"))return null;j.setAttribute("data-accordionary-initialized","true");let G=Y(j,"open"),Z=Y(j,"multiple"),W=Y(j,"speed"),K=Y(j,"easing"),H=Y(j,"link");if(G&&!["all","first","none"].includes(G))_(`Invalid accordionary-open="${G}". Expected "all", "first", or "none". Defaulting to "none".`,j);if(Z&&!["true","false"].includes(Z))_(`Invalid accordionary-multiple="${Z}". Expected "true" or "false". Defaulting to "true".`,j);if(H&&!["true","false"].includes(H))_(`Invalid accordionary-link="${H}". Expected "true" or "false". Defaulting to "false".`,j);let U=W?parseInt(W,10):300;if(W&&(isNaN(U)||U<0))_(`Invalid accordionary-speed="${W}". Expected a positive number in milliseconds. Defaulting to 300.`,j);let V={openDefault:G==="all"||G==="first"?G:"none",allowMultiple:Z!=="false",speed:isNaN(U)||U<0?300:U,easing:K||"ease",reduceMotion:x,linked:H==="true"},Q=[],$=R("item",j);if($.length===0)return _('No items found. Add elements with accordionary="item" inside your component.',j),null;for(let q of $){let J=D("header",q),B=D("content",q),L=D("icon",q);if(!J){z('Missing header element. Add accordionary="header" inside this item.',q);continue}if(!B){z('Missing content element. Add accordionary="content" inside this item.',q);continue}if(!L){z('Missing icon element. Add accordionary="icon" inside your header.',q);continue}let X=Y(q,"open"),b=Y(q,"disable");if(X&&!["true","false"].includes(X))_(`Invalid accordionary-open="${X}" on item. Expected "true" or "false".`,q);let F={openOverride:X==="true"?!0:X==="false"?!1:null,disabled:b==="true"};Q.push({element:q,headingElement:J,contentElement:B,iconElement:L,config:F})}Q.forEach((q,J)=>{S(q,V,J===0,Q)});let N=Q.map((q)=>({element:q.element,open:()=>q.open?.(),close:()=>q.close?.(),toggle:()=>q.toggle?.()}));return{element:j,openAll:()=>{for(let q of Q)q.open?.()},closeAll:()=>{for(let q of Q)q.close?.()},open:(q)=>{Q[q]?.open?.()},close:(q)=>{Q[q]?.close?.()},toggle:(q)=>{Q[q]?.toggle?.()},items:N}}function w(){let j=R("component");for(let G of j)v(G)}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",w);else w();})();
